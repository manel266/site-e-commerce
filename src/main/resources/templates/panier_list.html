<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head th:replace="fragments/header :: baseHeader(~{::title})">
	<title>Accueil</title>
</head>
<body>

	<div th:replace="fragments/header :: header"></div>
	<script>
		function Supprimer() {
			return alert("Vous avez annulé ce deal");  
		}

	</script>
	<div class="jumbotron text-center">
		<h1 class="display-4">Bienvenue dans Best Deal</h1>

	</div>
	<main>
		<div class="container">

			<!--Section: Block Content-->
			<section class="mt-5 mb-4">

				<!--Grid row-->
				<div class="row">

					<!--Grid column-->
					<div class="col-lg-8">

						<!-- Card -->
						<div class="card wish-list mb-4">
							<div class="card-body">

								<h5 class="mb-4">
									Panier(<span th:text="${cartCount}">0</span> Deal)
								</h5>

								<div class="row mb-4" th:each="item : ${panier}">
									<div class="col-md-5 col-lg-3 col-xl-3">
										<div class="mb-3 mb-md-0">
											<img class="img-fluid w-100" id="imgPreview" th:src="@{${item.deal.image}}"
												style="margin-top: 20px;height:100%; width:100%;" alt=" ">
										</div>
									</div>
									<div class="col-md-7 col-lg-9 col-xl-9">
										<div>
											<div class="d-flex justify-content-between">
												<div>
													<h5 th:text="${item.deal.nom}">Blue denim shirt</h5>
													<p class="mb-3 text-uppercase small">
														Prix : <span th:text="${item.deal.nouveau_prix}"></span> DT
													</p>
													<p class="mb-3 text-uppercase small">
														Quantite : <span th:text="${item.quantite}"></span> DT
													</p>
													<!-- <p class="mb-2 text-uppercase small">Category: <span th:text="${item.category.name}"></span></p>-->

												</div>

											</div>
											<div
												class="mt-5 d-flex justify-content-between align-items-center">
												<div>
													<a href="#!"
														th:href="@{/commande/panier/delete/{id}(id=${item.deal.id})}"
														type="button" onclick="return Supprimer();"
														class="card-link-secondary small text-uppercase mr-3"><i
														class="fas fa-trash-alt mr-1"></i> Supprimer </a>

												</div>
												<p class="mb-0">
													<span><strong>DT<span
															th:text="${item.prix_total}"></span></strong></span>
												</p>
											</div>
										</div>
									</div>
								</div>
								<hr class="mb-4">

								<p class="text-primary mb-0">
									<i class="fas fa-info-circle mr-1"></i>Pour commander les deals
									, validez votre achat
								</p>

							</div>
						</div>




					</div>
					<!--Grid column-->

					<!--Grid column-->
					<div class="col-lg-4">

						<!-- Card -->
						<div class="card mb-4">
							<div class="card-body">

								<h5 class="mb-3">Total</h5>

								<ul class="list-group list-group-flush">
									<li
										class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0">
										Total &agrave payer <span> DT <span th:text="${total}"></span></span>
									</li>

									<li
										class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 mb-3">
										<div>
											<strong>le prix total de votre panier</strong> <strong>
												<p class="mb-0">(inclut TVA)</p>
											</strong>
										</div> <span><strong> DT <span th:text="${total}"></span></strong></span>
									</li>
								</ul>

								<a th:href="@{/commande/panier/valider}"
									class="btn btn-primary btn-block waves-effect waves-light">Valider
									votre achat</a>

							</div>
						</div>
						<!-- Card -->

						<!-- Card -->
						<div class="card mb-4">
							<div class="card-body"></div>
						</div>
						<!-- Card -->

					</div>
					<!--Grid column-->

				</div>
				<!--Grid row-->

			</section>
			<!--Section: Block Content-->

		</div>
	</main>
	<!--Main layout-->





	<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
		integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
		crossorigin="anonymous"></script>
	<script
		src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
		integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
		crossorigin="anonymous"></script>
	<script
		src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
		integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
		crossorigin="anonymous"></script>
</body>
</html>